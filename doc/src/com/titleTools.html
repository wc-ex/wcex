<!--!!
引用第三方库实现的颜色选择器
演示了如何加载第三方的标准WebComponent
-->
<template>
  <meta name="module" pkg="toolcool-color-picker" content="dist/toolcool-color-picker.min.js" preload />
  <meta name="scope" mod.int="0" />
  <style>
    :host {
      display: flex;
      align-items: center;
      justify-content: space-around;
      padding: 0.1em;
    }
  </style>

  <!-- 改变文字 -->
  <wcex-ui.icon
    icon="text_fields"
    @click="$side('wcex-doc.com-font_select',{pos:'r',size:'20em',clip:false,autoclose:true})"
    $color="$color.sec.l2_"
    active
  ></wcex-ui.icon>

  <wcex-ui.icon
    $icon="mod?'wb_sunny':'mode_night' "
    @click="$Colors.switchMode();mod=$Colors.mode"
    $color="$color.sec.l2_"
    active
  ></wcex-ui.icon>
  <toolcool-color-picker
    button-width="2rem"
    id="picker"
    @change="$Colors.set('pri',$ev.detail.hsl)"
  ></toolcool-color-picker>

  <script scope=".">
    return class {
      onReady() {
        this.$id.picker.color = `${this.$color.pri}`;
        // this.mode = this.$Colors.mode
        var el = this.$id.picker.shadowRoot.querySelector("div[data-popup-box]");
        el.style.position = "absolute";
        el.style.left = "-200px";
      }
    };
  </script>
</template>
